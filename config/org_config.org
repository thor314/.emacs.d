* Variable spaced font
Prefer variable-spaced font when looking at text, monospaced when looking at code. Variable-pitch screws a bunch of things up, so copy pasta a soln in.
https://github.com/daviwil/emacs-from-scratch/blob/master/Emacs.org/#better-font-faces
#+begin_src emacs-lisp
  ;; (variable-pitch-mode 0) ;; trippy, give it a look
  (defun tk/org-font-setup ()
    ;; Replace list hyphen with dot
    (font-lock-add-keywords 'org-mode
      '(("^ *\\([-]\\) "
          (0 (prog1 () (compose-region (match-beginning 1) (match-end 1) "â€¢"))))))

    ;; Set faces for heading levels
    (dolist (face '((org-level-1 . 1.2)
                     (org-level-2 . 1.1)
                     (org-level-3 . 1.05)
                     (org-level-4 . 1.0)
                     (org-level-5 . 1.1)
                     (org-level-6 . 1.1)
                     (org-level-7 . 1.1)
                     (org-level-8 . 1.1)))
      (set-face-attribute (car face) nil :font "Cantarell" :weight 'regular :height (cdr face)))
    ;; Ensure that anything that should be fixed-pitch in Org files appears that way
    (set-face-attribute 'org-block nil    :foreground nil :inherit 'fixed-pitch)
    (set-face-attribute 'org-table nil    :inherit 'fixed-pitch)
    (set-face-attribute 'org-formula nil  :inherit 'fixed-pitch)
    (set-face-attribute 'org-code nil     :inherit '(shadow fixed-pitch))
    (set-face-attribute 'org-table nil    :inherit '(shadow fixed-pitch))
    (set-face-attribute 'org-verbatim nil :inherit '(shadow fixed-pitch))
    (set-face-attribute 'org-special-keyword nil :inherit '(font-lock-comment-face fixed-pitch))
    (set-face-attribute 'org-meta-line nil :inherit '(font-lock-comment-face fixed-pitch))
    (set-face-attribute 'org-checkbox nil  :inherit 'fixed-pitch)
    (set-face-attribute 'line-number nil :inherit 'fixed-pitch)
    (set-face-attribute 'line-number-current-line nil :inherit 'fixed-pitch))
#+end_src
* Quick packages
- [[https://github.com/sabof/org-bullets][org-bullets: utf-8 bullets for org-mode]]
- [[https://github.com/rexim/org-cliplink][org-cliplink: Insert org-mode links from clipboard]]
- [[https://github.com/abo-abo/org-download][org-download: Drag and drop images to Emacs org-mode]]
- [[https://github.com/bastibe/org-journal][org-journal: A simple org-mode based journaling mode]]
#+begin_src emacs-lisp
  (use-package org-bullets) ; Prettier bullet points
  ;; Turn on the following with org-bullets for nicer looking outlines
  (org-indent-mode)
  ;; issue: supposed to work with twitter threads, currently broken though, couldn't figure out how to fix.
  (use-package org-cliplink) ; bound to C-c y
  (use-package org-download)
  (add-hook 'dired-mode-hook 'org-download-enable)
  ;; Use the heck out of this
  (use-package org-journal)
  ;; variable pitch mode looks good in text buffers without code  blocks
  (add-hook 'org-journal-mode-hook 'variable-pitch-mode)
  (setq org-journal-dir "~/org/journal"
    org-journal-file-format "%Y%m%d.org")
  (add-hook 'polymode-minor-mode-hook (variable-pitch-mode 0))
#+end_src
* Tags
Default tags available in org files. Syntax =?x= for literal ASCII value of x.
#+begin_src emacs-lisp
  (setq org-tag-alist
    '(("crypto" . ?c)
       ("emacs" . ?e)
       ("math" . ?m)
       ("pers" . ?p)
       ("rust" . ?r)
       ("write" . ?w)
       ("misc" . ?z)))
#+end_src
[[https://orgmode.org/manual/Tags.html#Tags][tags]].
* Agenda
[[https://github.com/alphapapa/org-super-agenda][look into super agenda, eventually]].
#+begin_src emacs-lisp
  (setq org-agenda-files '("~/org/agenda/")
   org-priority-default 80) ;; between C and B
   (setq org-agenda-custom-commands ; options - todo, tags, tags-todo
     '(("c" "crypto" tags-todo "CRYPTO")
        ("e" "Emacs" tags-todo "EMACS")
        ("m" "Math" tags-todo "MATH")
        ("r" "Rust" tags-todo "RUST")
        ("p" "Personal" tags-todo "PERS")
        ("w" "Write" tags-todo "WRITE")
        ("z" "Misc" tags-todo "MISC")
     ))

  (add-hook 'org-agenda-mode-hook
    (lambda ()
      (setq org-agenda-start-on-weekday nil ; start today
        org-agenda-hide-tags-regexp ".*" ; hide all tags
        org-agenda-include-deadlines t
        org-agenda-include-diary t
        org-agenda-loop-over-headlines-in-active-region nil
        org-agenda-restore-windows-after-quit t
        org-agenda-skip-deadline-if-done t
        org-agenda-skip-deadline-prewarning-if-scheduled 'pre-scheduled
        org-agenda-todo-ignore-deadlines 'far
        org-journal-enable-agenda-integration t)  ; include org-journal todos in agenda
      ))
#+end_src
[[https://orgmode.org/manual/Agenda-Views.html][agenda]].
* Org-specific keybinds
#+begin_src emacs-lisp
  (add-hook 'org-mode-hook
    (lambda ()
      (org-bullets-mode)
      (local-set-key (kbd "C-c y") 'org-cliplink) ;; similar to my function (see next line)
      (local-set-key (kbd "C-; y") 'link-last-word-from-kill)
      (local-set-key (kbd "C-c C-r") 'org-schedule)
      (local-set-key (kbd "<f1> e") 'tk-org-insert-lisp-block)
      (local-set-key (kbd "<f1> p") 'tk-org-insert-python-block)
      (local-set-key (kbd "<f1> r") 'tk-org-insert-rust-block)
      (local-set-key (kbd "<f1> d") 'insert-date)
      (global-set-key (kbd "<f1> d") 'insert-date) ; experiment on blocking emacs overwrite 2021-08-30
      (local-set-key (kbd "C-'") 'avy-goto-char) ; overwrite switch agenda files
      (local-set-key (kbd "C-,") 'ivy-switch-buffer)
      (local-set-key (kbd "C-.") 'other-window)))
#+end_src
* Org-roam- Cc n [lfgic]
[[https://www.orgroam.com/manual/][docs]] and [[https://github.com/org-roam/org-roam][source]].
** Setup
Create a file: Org roam find file
#+begin_src emacs-lisp
  (setq org-roam-v2-ack t)
  (use-package org-roam)
  (add-hook 'org-mode-hook
    (lambda ()
      (setq company-mode nil) ;; gets annoying with text completes
      (local-set-key (kbd "C-c n r") 'org-roam)
      (local-set-key (kbd "C-c n n") 'org-roam-ref-add)
      (local-set-key (kbd "C-c n i") 'org-roam-insert)
      (local-set-key (kbd "C-c n I") 'org-roam-insert-immediate)
      (local-set-key (kbd "C-c n f") 'org-roam-find-file)
      (local-set-key (kbd "C-c n g") 'org-roam-graph)
      (local-set-key (kbd "C-c n a") 'org-roam-tag-add)
      (local-set-key (kbd "C-c n d") 'org-roam-tag-delete)
      ))

  ;; enables org-roam on startup
  ;(add-hook 'after-init-hook 'org-roam-mode) ; 2021-08-30 no such org roam mode
  (setq org-roam-directory "~/org/roam")
  (setq org-roam-completion-system 'ivy)
  ;; optional index file keeps links to main files
  ;; (setq org-roam-index-file "index.org")
#+end_src
* Hook
#+begin_src emacs-lisp
  (add-hook 'org-mode-hook
    (lambda ()
      (setq org-src-fontify-natively t ; syntax-highlight if org recognizes src block
       org-src-tab-acts-natively t ; use programming major modes in src blocks
       org-adapt-indentation nil ; turn off special indentation in org subsections
       org-directory "~/org"
       org-log-done 'time) ; timstamp when TODO - DONE
      ))
#+end_src
